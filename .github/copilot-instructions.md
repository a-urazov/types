# Библиотека типов Go - Инструкции по кодированию для ИИ

Этот документ представляет собой руководство для агентов ИИ, вносящих вклад в библиотеку типов Go.

## Обзор проекта

Это библиотека Go, предоставляющая коллекцию обобщенных структур данных и тип `Nullable` для обработки необязательных значений. Цель состоит в том, чтобы предложить надежные, хорошо протестированные и идиоматичные строительные блоки для Go.

## Архитектура

- Репозиторий представляет собой стандартный модуль Go. Путь к модулю можно найти в файле `go.mod`.
- Кодовая база организована в несколько пакетов:
    - `collections/`: Содержит различные обобщенные структуры данных, такие как `List`, `Queue`, `Dictionary`, `HashSet`, `PriorityQueue` и т.д. Каждая структура данных находится в своем собственном подкаталоге.
    - `nullable/`: Предоставляет обобщенный тип `Type[T any]` для обработки значений, которые могут быть `nil`. Это особенно полезно при взаимодействии с базами данных и сериализации JSON.
    - `sort/`: Содержит вспомогательные функции, связанные с сортировкой.

## Ключевые шаблоны и соглашения

### Тестирование
- Каждый пакет (например, `collections/list`) содержит свои собственные тесты в соответствующем файле `_test.go` (например, `list_test.go`).
- При добавлении новой функциональности или исправлении ошибки, пожалуйста, добавляйте или обновляйте тесты соответствующим образом.
- Чтобы запустить все тесты для всего проекта, выполните `go test ./...` из корневого каталога.
- Чтобы запустить тесты для определенного пакета, вы можете выполнить `go test` в каталоге этого пакета.

### Обобщения (Generics)
- Библиотека активно использует обобщения Go (параметры типа), представленные в Go 1.18.
- При реализации новых структур данных или изменении существующих следует использовать обобщения, чтобы обеспечить их типобезопасность и гибкость.
- **Пример (`nullable.Type`):**
  ```go
  // nullable.Type[T] может оборачивать любой тип.
  var name nullable.Type[string]
  var age nullable.Type[int]
  ```

### Тип `nullable`
- При работе с необязательными полями, особенно в контексте записей базы данных или JSON API, всегда используйте `nullable.Type[T]`.
- Он корректно обрабатывает значения `nil` во время маршалинга/анмаршалинга JSON и сканирования из драйвера базы данных.
- **Ключевые методы:**
    - `New(value T)`: Создает новый не-null `Type[T]`.
    - `IsNull() bool`: Проверяет, является ли значение null.
    - `Get() (T, bool)`: Возвращает значение и логическое значение, указывающее на его наличие.
    - `Or(defaultValue T) T`: Возвращает значение, если оно присутствует, в противном случае возвращает значение по умолчанию.

### Стиль кода
- Следуйте стандартному форматированию и стилю Go, обеспечиваемому `gofmt`.
- Пишите ясный, идиоматичный код на Go.

## Рабочий процесс разработчика

1.  **Получение зависимостей:** Выполните `go mod tidy`, если вы добавляете или обновляете зависимости.
2.  **Написание кода:** Реализуйте свою функцию или исправьте ошибку.
3.  **Написание тестов:** Добавьте или обновите модульные тесты в соответствующем файле `_test.go`.
4.  **Запуск тестов:** Выполните `go test ./...` из корневого каталога, чтобы убедиться, что все тесты проходят.
